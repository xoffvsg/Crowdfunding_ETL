# Crowdfunding_ETL
## Project 2
<br><br>
## Part 1 - Data curation
<br>
In this project, we will apply the Extract, Transform, Load pipeline (ETL) to create four tables in a PostgreSQL database from two Excel .xlsx files.<br><br>
The first file (<b><i>Resources\crowdfunding.xlsx</i></b>) contains 15 columns and 1001 rows including headers. The second Excel file (<b><i>Resources\contacts.xlsx</i></b>) contains the contact details of the person managing each individual project in a single column.<br><br>
We will curate these two files to generate four CSV files:<br>

  * a [<i>Resources\campaign.csv</i>](https://github.com/xoffvsg/Crowdfunding_ETL/blob/main/Resources/campaign.csv) file that contains the fields we are interested in, including unique identifiers to the project managers, the category of the project, and the subcategory of the project.
  * a [<i>Resources\category.csv</i>](https://github.com/xoffvsg/Crowdfunding_ETL/blob/main/Resources/category.csv) file that contains the name of each category with its unique identifier.
  * a [<i>Resources\subcategory.csv</i>](https://github.com/xoffvsg/Crowdfunding_ETL/blob/main/Resources/subcategory.csv) file that contains the name of each subcategory with its unique identifier.
  * a [<i>Resources\contacts.csv</i>](https://github.com/xoffvsg/Crowdfunding_ETL/blob/main/Resources/contacts.csv) file that contains the contact details of each project manager with his/her unique identifier.
<br>
The steps used to curate the files can be found in the Jupyter notebook: 

[<i>ETL_Mini_Project_Starter_Code_CVivensang.ipynb</i>](https://github.com/xoffvsg/Crowdfunding_ETL/blob/main/ETL_Mini_Project_Starter_Code_CVivensang.ipynb)
<br><br><br>

## Part 2 - Database creation
We used QuickDBD to sketch the ERD of the tables. We have verified that, even if some companies have multiple projects, each project is still managed by a unique person. We have therefore a 1-to-1 relationship between the manager contact_id in the campaign table and in the contact table.<br><br>
![QuickDBD-export](https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/3d0a8587-bb14-4b1e-abef-beefe656a998)

<br>
The details of the schema can be found in: 

[<i>crowdfunding_db_schema.sql</i>](https://github.com/xoffvsg/Crowdfunding_ETL/blob/main/Resources/crowdfunding_db_schema.sql).
<br><br>
We use the schema generated by QuickDBD to generate the PostgreSQL tables with their constraints. We then verify that the tables have been created correctly.<br>
<br>
<img width="734" alt="SELECT_category" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/3f9c58c5-edce-48f1-ac27-74a71e506298">

<br>
<img width="704" alt="SELECT_subcategory" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/efa4b22b-f1ab-43f3-b1e7-2de54b23db82">

<br>
<img width="710" alt="SELECT_contact" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/71a76084-d011-47eb-8c6e-286f0108280c">

<br>

<br><img width="1389" alt="SELECT_campaign" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/35f7addd-958e-4c93-9c48-b20b95726ad1">

<br>
We then import the data from the CSV files to their respective tables and verify the results (first 5 rows shown).<br>
<br>
<img width="701" alt="SELECT_category_data" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/c4d51301-fb64-4e9a-a948-972c2cc0df50">

<br>
<img width="701" alt="SELECT_subcategory_data" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/849856a4-a9b1-4726-ae8e-7f76ab072db9">

<br>
<img width="733" alt="SELECT_contact_data" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/9f45c024-4faa-48c2-a485-c20000b02341">

<br>
<img width="1484" alt="SELECT_campaign_data" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/a8822fb2-0497-4084-b9d3-85839d6d2f6b">

<br><br>

Lastly, we verify that the relationships between the tables are correct by running a query across multiple tables.<br><br>
<img width="1120" alt="JOIN_results_multitables" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/53e4409a-21c8-4e80-95ed-2bd612e0c0b6">

<br>
We verify that the result is consistent with the information included in a sample of the row data.<br><br>
<img width="1166" alt="database_verification" src="https://github.com/xoffvsg/Crowdfunding_ETL/assets/141395221/a46a180f-aa48-48a1-913d-edb3c009daed">



